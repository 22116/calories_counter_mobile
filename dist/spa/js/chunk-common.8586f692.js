(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[1],{"0467":function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return l}));var r=n("4924"),o=n("05a6"),c=function(e,t,n,r){var o,c=arguments.length,s=c<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(c<3?o(s):c>3?o(t,n,s):o(t,n))||s);return c>3&&s&&Object.defineProperty(t,n,s),s};let s=class extends r["Table"]{constructor(){super(...arguments),this.timeouts=[a.Sunday,a.Monday,a.Tuesday,a.Wednesday,a.Thursday,a.Friday,a.Saturday]}};var a,i,l;c([Object(r["column"])(r["ColumnType"].NUMBER)],s.prototype,"rowid",void 0),c([Object(r["column"])(r["ColumnType"].STRING|r["ColumnType"].PRIMARY)],s.prototype,"id",void 0),c([Object(r["column"])(r["ColumnType"].STRING)],s.prototype,"name",void 0),c([Object(r["column"])(r["ColumnType"].STRING)],s.prototype,"description",void 0),c([Object(r["column"])(r["ColumnType"].NUMBER)],s.prototype,"type",void 0),c([Object(r["column"])(r["ColumnType"].STRING)],s.prototype,"icon",void 0),c([Object(r["column"])(r["ColumnType"].DATE)],s.prototype,"createdAt",void 0),c([Object(r["column"])(r["ColumnType"].NUMBER)],s.prototype,"theme",void 0),c([Object(r["column"])(r["ColumnType"].ANY)],s.prototype,"scores",void 0),c([Object(r["column"])(r["ColumnType"].BOOLEAN)],s.prototype,"enabled",void 0),c([Object(r["column"])(r["ColumnType"].ANY)],s.prototype,"timeouts",void 0),s=c([Object(r["database"])(o["a"],"counters")],s),function(e){e["Monday"]="monday",e["Tuesday"]="tuesday",e["Wednesday"]="wednesday",e["Thursday"]="thursday",e["Friday"]="friday",e["Saturday"]="saturday",e["Sunday"]="sunday",e["Monthly"]="monthly",e["Yearly"]="yearly"}(a||(a={}));(function(e){e[e["Limited"]=0]="Limited",e[e["Binary"]=1]="Binary",e[e["Goal"]=2]="Goal"})(i||(i={})),function(e){e[e["Default"]=0]="Default",e[e["Bear"]=1]="Bear",e[e["Colorful"]=2]="Colorful"}(l||(l={}))},"0afc":function(e,t,n){},"3aba":function(e,t,n){"use strict";n("4608")},"3b60":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("4bc7"),o=n("ee3c"),c=function(e,t,n,r){var o,c=arguments.length,s=c<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(c<3?o(s):c>3?o(t,n,s):o(t,n))||s);return c>3&&s&&Object.defineProperty(t,n,s),s},s=function(e,t){return function(n,r){t(n,r,e)}},a=function(e,t,n,r){function o(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,c){function s(e){try{i(r.next(e))}catch(t){c(t)}}function a(e){try{i(r["throw"](e))}catch(t){c(t)}}function i(e){e.done?n(e.value):o(e.value).then(s,a)}i((r=r.apply(e,t||[])).next())}))};let i=class{constructor(e){this.handlers=e}dispatch(e){return a(this,void 0,void 0,(function*(){for(const t of this.handlers)t.supports(e)&&(yield t.handle(e))}))}dispatchAll(...e){return a(this,void 0,void 0,(function*(){for(const t of e)yield this.dispatch(t)}))}};i=c([Object(r["f"])(),Object(r["e"])([{token:"EventHandler",useClass:o["h"]},{token:"EventHandler",useClass:o["f"]},{token:"EventHandler",useClass:o["d"]},{token:"EventHandler",useClass:o["b"]}]),s(0,Object(r["c"])("EventHandler"))],i)},4608:function(e,t,n){},"4d97":function(e,t,n){"use strict";n("0afc")},"5e13":function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(e.tag,{tag:"component",staticClass:"row items-center justify-evenly items-stretch"},[e.isLimitedCounter(e.counter)?n("limited-counter",{attrs:{counter:e.counter},on:{"update:counter":e.updateCounterData}}):e._e(),e.isBinaryCounter(e.counter)?n("binary-counter",{attrs:{counter:e.counter},on:{"update:counter":e.updateCounterData}}):e._e(),e.isGoalCounter(e.counter)?n("goal-counter",{attrs:{counter:e.counter},on:{"update:counter":e.updateCounterData}}):e._e()],1)},o=[],c=n("1b40"),s=n("6638"),a=n("964b"),i=n("b118"),l=n("9e79"),u=function(e,t,n,r){var o,c=arguments.length,s=c<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(c<3?o(s):c>3?o(t,n,s):o(t,n))||s);return c>3&&s&&Object.defineProperty(t,n,s),s};let p=class extends l["a"]{updateCounterData(e){return e}};u([Object(c["f"])({type:Object,required:!0})],p.prototype,"counter",void 0),u([Object(c["c"])({type:String,default:"q-page"})],p.prototype,"tag",void 0),u([Object(c["b"])("input")],p.prototype,"updateCounterData",null),p=u([Object(c["a"])({components:{GoalCounter:s["a"],BinaryCounter:a["a"],LimitedCounter:i["a"]}})],p);var d=p,f=d,y=n("2877"),b=n("9989"),h=n("eebe"),v=n.n(h),m=Object(y["a"])(f,r,o,!1,null,null,null);t["a"]=m.exports;v()(m,"components",{QPage:b["a"]})},6638:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"content-center justify-center row"},[n("q-circular-progress",{staticClass:"col-auto justify-center",attrs:{"show-value":"","font-size":"32px",value:e.counterSync.scores.current,max:e.counterSync.scores.start,size:"300px",thickness:.22,color:"grey-3","track-color":e.completed?"green":"orange"}},[e.completed?n("span",[e._v("\n      Passed!\n    ")]):n("span",[e._v("\n      "+e._s(e.counterSync.scores.current)+" left\n    ")])]),n("div",{staticClass:"col-12 q-mt-xl"},[n("div",{staticClass:"row"},[n("add-button",{staticClass:"col flex",class:{"justify-end":!e.completed,"justify-center":e.completed},attrs:{label:"Back"},on:{success:e.back}}),e.completed?e._e():n("add-button",{staticClass:"col flex justify-center q-mx-md",attrs:{label:"Add"},on:{success:e.forward}}),e.completed?e._e():n("div",{staticClass:"col"},[n("q-fab",{staticClass:"full-height",attrs:{square:"",color:"primary",icon:"keyboard_arrow_up",direction:"up"}},e._l(e.plusOptions,(function(t,r){return n("q-fab-action",{key:r,attrs:{color:r%2?"primary":"secondary",label:"+"+t},on:{click:function(n){return e.forward(t)}}})})),1)],1)],1)])],1)},o=[],c=n("1b40"),s=n("975d"),a=n("9f9c"),i=function(e,t,n,r){var o,c=arguments.length,s=c<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(c<3?o(s):c>3?o(t,n,s):o(t,n))||s);return c>3&&s&&Object.defineProperty(t,n,s),s};let l=class extends c["g"]{constructor(){super(...arguments),this.completed=!1,this.plusOptions=[1,5,10,25,50,100,250,500]}mounted(){this.completed=0===this.counterSync.scores.current}forward(e){return this.counterSync.scores.current<=e?(this.counterSync.scores.current=0,this.completed=!0,this.$q.notify({type:"positive",message:"Goal is done for today. Great job!"})):this.counterSync.scores.current-=e,this.counterSync}back(e){return e>0&&(this.completed=!1),this.counterSync.scores.current+=e,this.counterSync}};i([Object(c["d"])("counter",{type:Object,required:!0})],l.prototype,"counterSync",void 0),i([Object(c["b"])("update:counter")],l.prototype,"forward",null),i([Object(c["b"])("update:counter")],l.prototype,"back",null),l=i([Object(c["a"])({components:{Confirm:a["a"],AddButton:s["a"]}})],l);var u=l,p=u,d=n("2877"),f=n("58ea"),y=n("c294"),b=n("72db"),h=n("eebe"),v=n.n(h),m=Object(d["a"])(p,r,o,!1,null,null,null);t["a"]=m.exports;v()(m,"components",{QCircularProgress:f["a"],QFab:y["a"],QFabAction:b["a"]})},"964b":function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"row full-width justify-center"},[e.isDefault()?n("q-toggle",{attrs:{size:"150px",color:e.counterSync.scores.value?"green":"red"},model:{value:e.counterSync.scores.value,callback:function(t){e.$set(e.counterSync.scores,"value",t)},expression:"counterSync.scores.value"}}):e._e(),e.isBear()?n("bear-toggle",{model:{value:e.counterSync.scores.value,callback:function(t){e.$set(e.counterSync.scores,"value",t)},expression:"counterSync.scores.value"}}):e._e(),e.isColorful()?n("colorful-toggle",{model:{value:e.counterSync.scores.value,callback:function(t){e.$set(e.counterSync.scores,"value",t)},expression:"counterSync.scores.value"}}):e._e()],1)},o=[],c=n("1b40"),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:{toggleWrapper:!0,success:e.checked}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.checked,expression:"checked"}],staticClass:"dn",attrs:{type:"checkbox",id:"dn"},domProps:{checked:Array.isArray(e.checked)?e._i(e.checked,null)>-1:e.checked},on:{change:function(t){var n=e.checked,r=t.target,o=!!r.checked;if(Array.isArray(n)){var c=null,s=e._i(n,c);r.checked?s<0&&(e.checked=n.concat([c])):s>-1&&(e.checked=n.slice(0,s).concat(n.slice(s+1)))}else e.checked=o}}}),e._m(0),e._m(1)])},a=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("label",{staticClass:"toggle",attrs:{for:"dn"}},[n("span",{staticClass:"toggle__handler"})])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"bear-body"},[n("span",{staticClass:"eye left"}),n("span",{staticClass:"eye right"})])}],i=function(e,t,n,r){var o,c=arguments.length,s=c<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(c<3?o(s):c>3?o(t,n,s):o(t,n))||s);return c>3&&s&&Object.defineProperty(t,n,s),s};let l=class extends c["g"]{};i([Object(c["f"])({type:Boolean})],l.prototype,"checked",void 0),l=i([c["a"]],l);var u=l,p=u,d=(n("3aba"),n("2877")),f=Object(d["a"])(p,s,a,!1,null,"346072aa",null),y=f.exports,b=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"bg",staticClass:"toggle-bg full-width"},[n("div",{staticClass:"toggle"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.checked,expression:"checked"}],ref:"toggle",attrs:{type:"checkbox",id:"toggle"},domProps:{checked:Array.isArray(e.checked)?e._i(e.checked,null)>-1:e.checked},on:{change:function(t){var n=e.checked,r=t.target,o=!!r.checked;if(Array.isArray(n)){var c=null,s=e._i(n,c);r.checked?s<0&&(e.checked=n.concat([c])):s>-1&&(e.checked=n.slice(0,s).concat(n.slice(s+1)))}else e.checked=o}}}),n("label",{attrs:{for:"toggle"}})])])},h=[],v=function(e,t,n,r){var o,c=arguments.length,s=c<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(c<3?o(s):c>3?o(t,n,s):o(t,n))||s);return c>3&&s&&Object.defineProperty(t,n,s),s};let m=class extends c["g"]{mounted(){this.checked&&!this.bg.classList.contains("on")?this.bg.classList.add("on"):this.bg.classList.remove("on")}onChange(){this.bg.classList.toggle("on")}};v([Object(c["f"])({type:Boolean})],m.prototype,"checked",void 0),v([Object(c["e"])("toggle")],m.prototype,"toggle",void 0),v([Object(c["e"])("bg")],m.prototype,"bg",void 0),v([Object(c["h"])("checked")],m.prototype,"onChange",null),m=v([c["a"]],m);var g=m,O=g,j=(n("4d97"),Object(d["a"])(O,b,h,!1,null,"31a28eec",null)),C=j.exports,x=n("fbb0"),w=function(e,t,n,r){var o,c=arguments.length,s=c<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(c<3?o(s):c>3?o(t,n,s):o(t,n))||s);return c>3&&s&&Object.defineProperty(t,n,s),s};let q=class extends c["g"]{counterUpdated(){return this.counterSync}isDefault(){return this.counterSync.theme===x["a"].Default}isBear(){return this.counterSync.theme===x["a"].Bear}isColorful(){return this.counterSync.theme===x["a"].Colorful}};w([Object(c["d"])("counter",{type:Object,required:!0})],q.prototype,"counterSync",void 0),w([Object(c["h"])("counterSync.score.value"),Object(c["b"])("update:counter")],q.prototype,"counterUpdated",null),q=w([Object(c["a"])({components:{ColorfulToggle:C,BearToggle:y}})],q);var _=q,k=_,P=n("9564"),R=n("eebe"),S=n.n(R),Q=Object(d["a"])(k,r,o,!1,null,null,null);t["a"]=Q.exports;S()(Q,"components",{QToggle:P["a"]})},"975d":function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("q-btn",{attrs:{label:e.label,color:"primary",size:"xl"},on:{click:function(t){e.prompt=!0}}}),n("q-dialog",{attrs:{persistent:""},model:{value:e.prompt,callback:function(t){e.prompt=t},expression:"prompt"}},[n("q-card",{staticStyle:{"min-width":"350px"}},[n("q-card-section",[n("div",{staticClass:"text-h6"},[e._v("How much to add?")])]),n("q-card-section",{staticClass:"q-pt-none"},[n("q-input",{attrs:{type:"number",dense:"",autofocus:""},on:{keyup:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.prompt=!1}},model:{value:e.value,callback:function(t){e.value=e._n(t)},expression:"value"}})],1),n("q-card-actions",{staticClass:"text-primary",attrs:{align:"right"}},[n("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Cancel"}}),n("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Add"},on:{click:function(t){return e.$emit("success",e.value)}}})],1)],1)],1)],1)},o=[],c=n("1b40"),s=function(e,t,n,r){var o,c=arguments.length,s=c<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(c<3?o(s):c>3?o(t,n,s):o(t,n))||s);return c>3&&s&&Object.defineProperty(t,n,s),s};let a=class extends c["g"]{constructor(){super(...arguments),this.prompt=!1,this.value=0}};s([Object(c["c"])({type:String,required:!0})],a.prototype,"label",void 0),a=s([c["a"]],a);var i=a,l=i,u=n("2877"),p=n("9c40"),d=n("24e8"),f=n("f09f"),y=n("a370"),b=n("27f9"),h=n("4b7e"),v=n("7f67"),m=n("eebe"),g=n.n(m),O=Object(u["a"])(l,r,o,!1,null,null,null);t["a"]=O.exports;g()(O,"components",{QBtn:p["a"],QDialog:d["a"],QCard:f["a"],QCardSection:y["a"],QInput:b["a"],QCardActions:h["a"]}),g()(O,"directives",{ClosePopup:v["a"]})},"9e79":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("1b40"),o=n("fbb0");class c extends r["g"]{isLimitedCounter(e){return e.type===o["c"].Limited}isBinaryCounter(e){return e.type===o["c"].Binary}isGoalCounter(e){return e.type===o["c"].Goal}}},"9f9c":function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("q-btn",{attrs:{label:e.label,size:"xl",color:"primary"},on:{click:function(t){e.prompt=!0}}}),n("confirm-modal",{attrs:{question:e.question},on:{success:function(t){return e.$emit("success")}},model:{value:e.prompt,callback:function(t){e.prompt=t},expression:"prompt"}})],1)},o=[],c=n("1b40"),s=n("aa29"),a=function(e,t,n,r){var o,c=arguments.length,s=c<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(c<3?o(s):c>3?o(t,n,s):o(t,n))||s);return c>3&&s&&Object.defineProperty(t,n,s),s};let i=class extends c["g"]{constructor(){super(...arguments),this.prompt=!1}};a([Object(c["c"])({type:String,required:!0})],i.prototype,"label",void 0),a([Object(c["c"])({type:String,default:"Are you sure?"})],i.prototype,"question",void 0),i=a([Object(c["a"])({components:{ConfirmModal:s["a"]}})],i);var l=i,u=l,p=n("2877"),d=n("9c40"),f=n("eebe"),y=n.n(f),b=Object(p["a"])(u,r,o,!1,null,null,null);t["a"]=b.exports;y()(b,"components",{QBtn:d["a"]})},aa29:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-dialog",{attrs:{persistent:""},model:{value:e.prompt,callback:function(t){e.prompt=t},expression:"prompt"}},[n("q-card",{staticStyle:{"min-width":"350px"}},[n("q-card-section",[n("div",{staticClass:"text-h6"},[e._v(e._s(e.question))])]),n("q-card-actions",{staticClass:"text-primary",attrs:{align:"right"}},[n("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Cancel"},on:{click:function(t){return e.$emit("finished")}}}),n("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Ok"},on:{click:function(){e.$emit("success"),e.$emit("finished")}}})],1)],1)],1)},o=[],c=n("1b40"),s=function(e,t,n,r){var o,c=arguments.length,s=c<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(c<3?o(s):c>3?o(t,n,s):o(t,n))||s);return c>3&&s&&Object.defineProperty(t,n,s),s};let a=class extends c["g"]{};s([Object(c["f"])({type:Boolean,required:!0})],a.prototype,"prompt",void 0),s([Object(c["c"])({type:String,default:"Are you sure?"})],a.prototype,"question",void 0),a=s([c["a"]],a);var i=a,l=i,u=n("2877"),p=n("24e8"),d=n("f09f"),f=n("a370"),y=n("4b7e"),b=n("9c40"),h=n("7f67"),v=n("eebe"),m=n.n(v),g=Object(u["a"])(l,r,o,!1,null,null,null);t["a"]=g.exports;m()(g,"components",{QDialog:p["a"],QCard:d["a"],QCardSection:f["a"],QCardActions:y["a"],QBtn:b["a"]}),m()(g,"directives",{ClosePopup:h["a"]})},b118:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"content-center justify-center row"},[n("q-circular-progress",{staticClass:"col-auto justify-center",attrs:{"show-value":"","font-size":"32px",value:e.counterSync.scores.current,max:e.counterSync.scores.limit,size:"300px",thickness:.22,color:"teal","track-color":"grey-3"}},[n("span",{class:{"text-red":e.counterSync.scores.current>e.counterSync.scores.limit}},[e._v("\n      "+e._s(e.counterSync.scores.current)+"/"+e._s(e.counterSync.scores.limit)+"\n    ")])]),n("div",{staticClass:"col-12 q-mt-xl"},[n("div",{staticClass:"row"},[n("add-button",{staticClass:"col flex justify-end",attrs:{label:"Add"},on:{success:e.add}}),n("confirm",{staticClass:"col flex justify-center q-mx-md",attrs:{label:"Reset",question:"Are you sure you want to reset?"},on:{success:e.reset}}),n("div",{staticClass:"col"},[n("q-fab",{staticClass:"full-height",attrs:{square:"",color:"primary",icon:"keyboard_arrow_up",direction:"up"}},e._l(e.plusOptions,(function(t,r){return n("q-fab-action",{key:r,attrs:{color:r%2?"primary":"secondary",label:"+"+t},on:{click:function(n){return e.add(t)}}})})),1)],1)],1)])],1)},o=[],c=n("1b40"),s=n("975d"),a=n("9f9c"),i=function(e,t,n,r){var o,c=arguments.length,s=c<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(c<3?o(s):c>3?o(t,n,s):o(t,n))||s);return c>3&&s&&Object.defineProperty(t,n,s),s};let l=class extends c["g"]{constructor(){super(...arguments),this.plusOptions=[1,5,10,25,50,100,250,500]}add(e){return this.counterSync.scores.current+=e,this.counterSync}reset(){return this.counterSync.scores.current=0,this.counterSync}};i([Object(c["d"])("counter",{type:Object,required:!0})],l.prototype,"counterSync",void 0),i([Object(c["b"])("update:counter")],l.prototype,"add",null),i([Object(c["b"])("update:counter")],l.prototype,"reset",null),l=i([Object(c["a"])({components:{Confirm:a["a"],AddButton:s["a"]}})],l);var u=l,p=u,d=n("2877"),f=n("58ea"),y=n("c294"),b=n("72db"),h=n("eebe"),v=n.n(h),m=Object(d["a"])(p,r,o,!1,null,null,null);t["a"]=m.exports;v()(m,"components",{QCircularProgress:f["a"],QFab:y["a"],QFabAction:b["a"]})},b369:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-dialog",{attrs:{persistent:""},model:{value:e.prompt,callback:function(t){e.prompt=t},expression:"prompt"}},[n("q-card",{staticClass:"overflow-hidden-x",staticStyle:{"min-width":"300px"}},[n("q-carousel",{attrs:{animated:"",swipeable:"",height:"auto","transition-prev":"slide-right","transition-next":"slide-left"},model:{value:e.sliderIndex,callback:function(t){e.sliderIndex=t},expression:"sliderIndex"}},[n("q-carousel-slide",{attrs:{name:0}},[n("q-card-section",[n("div",{staticClass:"text-h6"},[e._v(e._s(e.title))])]),n("generic",{model:{value:e.counter,callback:function(t){e.counter=t},expression:"counter"}})],1),n("q-carousel-slide",{attrs:{name:1}},[n("q-card-section",[n("div",{staticClass:"text-h6"},[e._v("Choose counter type")])]),n("type",{on:{input:e.onCounterChanged},model:{value:e.counter,callback:function(t){e.counter=t},expression:"counter"}})],1),n("q-carousel-slide",{attrs:{name:2}},[n("q-card-section",[n("div",{staticClass:"text-h6"},[e._v("When to reset")])]),n("q-option-group",{attrs:{options:e.timeoutOptions,type:"checkbox"},model:{value:e.counter.timeouts,callback:function(t){e.$set(e.counter,"timeouts",t)},expression:"counter.timeouts"}})],1),n("q-carousel-slide",{attrs:{name:3}},[n("q-card-section",{staticClass:"overflow-hidden-x"},[n("q-card-section",[n("div",{staticClass:"text-h6"},[e._v("Counter preview")])]),n("counter-view",{key:e.counterPreviewKey,staticStyle:{"min-height":"400px"},attrs:{tag:"div"},on:{input:function(t){e.counterPreviewKey++}},model:{value:e.counterPreview,callback:function(t){e.counterPreview=t},expression:"counterPreview"}})],1)],1)],1),n("q-card-actions",{staticClass:"text-primary",attrs:{align:"right"}},[e.sliderIndex>0?n("q-btn",{attrs:{flat:"",label:"Previous"},on:{click:function(t){e.sliderIndex--}}}):e._e(),n("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Cancel"},on:{click:function(t){return e.$emit("cancel")}}}),n("q-btn",{attrs:{flat:"",label:3===e.sliderIndex?"Confirm":"Next"},on:{click:e.onButtonClicked}})],1)],1)],1)},o=[],c=n("1b40"),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("q-card-section",{staticClass:"q-pt-none"},[n("q-input",{attrs:{label:"Name"},model:{value:e.counter.name,callback:function(t){e.$set(e.counter,"name","string"===typeof t?t.trim():t)},expression:"counter.name"}})],1),n("q-card-section",{staticClass:"q-pt-none"},[n("q-input",{attrs:{label:"Description"},model:{value:e.counter.description,callback:function(t){e.$set(e.counter,"description","string"===typeof t?t.trim():t)},expression:"counter.description"}})],1),n("q-card-section",{staticClass:"q-pt-none"},[n("q-select",{attrs:{options:e.icons,label:"Icon"},scopedSlots:e._u([{key:"append",fn:function(){return[n("q-avatar",[n("q-icon",{attrs:{name:e.counter.icon}})],1)]},proxy:!0},{key:"option",fn:function(t){return[n("q-item",e._g(e._b({},"q-item",t.itemProps,!1),t.itemEvents),[n("q-item-section",{attrs:{avatar:""}},[n("q-icon",{attrs:{name:t.opt}})],1),n("q-item-section",[n("q-item-label",{domProps:{innerHTML:e._s(t.opt)}})],1)],1)]}}]),model:{value:e.counter.icon,callback:function(t){e.$set(e.counter,"icon",t)},expression:"counter.icon"}})],1)],1)},a=[],i=["label","help","gavel","grade","mediation","offline_bolt","preview","reorder","source","touch_app","visibility","error","loop","movie","web","call","calculate","mic","stop","videocam","volume_up","snooze","sentiment_satisfied_alt","stay_current_landscape","speaker_phone","drafts","archive","send","policy","airplanemode_active","access_alarm","wallpaper","computer","medical_services","pedal_bike","sports_bar","pool","child_care","bathtub","fitness_center","smoking_rooms"],l=function(e,t,n,r){var o,c=arguments.length,s=c<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(c<3?o(s):c>3?o(t,n,s):o(t,n))||s);return c>3&&s&&Object.defineProperty(t,n,s),s};let u=class extends c["g"]{constructor(){super(...arguments),this.icons=i}};l([Object(c["f"])({type:Object,required:!0})],u.prototype,"counter",void 0),u=l([c["a"]],u);var p=u,d=p,f=n("2877"),y=n("a370"),b=n("27f9"),h=n("ddd8"),v=n("cb32"),m=n("0016"),g=n("66e5"),O=n("4074"),j=n("0170"),C=n("eebe"),x=n.n(C),w=Object(f["a"])(d,s,a,!1,null,null,null),q=w.exports;x()(w,"components",{QCardSection:y["a"],QInput:b["a"],QSelect:h["a"],QAvatar:v["a"],QIcon:m["a"],QItem:g["a"],QItemSection:O["a"],QItemLabel:j["a"]});var _=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("q-card-section",{staticClass:"q-pt-none"},[n("q-select",{attrs:{options:e.types,label:"Type"},scopedSlots:e._u([{key:"option",fn:function(t){return[n("q-item",e._g(e._b({},"q-item",t.itemProps,!1),t.itemEvents),[n("q-item-section",[n("q-item-label",{domProps:{innerHTML:e._s(t.opt.label)}}),n("q-item-label",{attrs:{caption:""},domProps:{textContent:e._s(e.getDescription(t.opt.value))}})],1)],1)]}}]),model:{value:e.type,callback:function(t){e.type=t},expression:"type"}})],1),e.isLimitedCounter(e.counter)?n("q-card-section",{staticClass:"q-pt-none"},[n("q-input",{attrs:{min:"0",label:"Limit"},model:{value:e.additionalProperties.limit,callback:function(t){e.$set(e.additionalProperties,"limit",e._n(t))},expression:"additionalProperties.limit"}}),n("q-input",{attrs:{min:"0",label:"Default"},model:{value:e.additionalProperties.current,callback:function(t){e.$set(e.additionalProperties,"current",e._n(t))},expression:"additionalProperties.current"}})],1):e._e(),e.isGoalCounter(e.counter)?n("q-card-section",{staticClass:"q-pt-none"},[n("q-input",{attrs:{min:"0",label:"Goal"},model:{value:e.additionalProperties.current,callback:function(t){e.$set(e.additionalProperties,"current",e._n(t))},expression:"additionalProperties.current"}})],1):e._e(),e.isBinaryCounter(e.counter)?n("q-card-section",{staticClass:"q-pt-none"},[n("q-select",{attrs:{options:e.binaryThemes,label:"Theme"},model:{value:e.theme,callback:function(t){e.theme=t},expression:"theme"}})],1):e._e()],1)},k=[],P=n("0467"),R=n("64ed"),S=n("9e79"),Q=n("5e13"),D=n("26a4"),T=function(e,t,n,r){var o,c=arguments.length,s=c<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(c<3?o(s):c>3?o(t,n,s):o(t,n))||s);return c>3&&s&&Object.defineProperty(t,n,s),s};const A={label:"Unknown",value:0};let $=class extends S["a"]{constructor(){super(...arguments),this.type=A,this.theme=A,this.additionalProperties={current:100,limit:100,start:100}}mounted(){this.type={label:Object(R["a"])(P["b"])[this.counter.type],value:this.counter.type},this.theme={label:Object(R["a"])(P["a"])[this.counter.theme],value:this.counter.theme},this.counter.hasOwnProperty("start")&&(this.additionalProperties.start=this.counter.scores.start),this.counter.hasOwnProperty("limit")&&(this.additionalProperties.limit=this.counter.scores.limit),this.counter.hasOwnProperty("current")&&(this.additionalProperties.current=this.counter.scores.current)}get types(){return Object(R["a"])(P["b"]).map(((e,t)=>Object.create({label:e,value:t})))}get binaryThemes(){return Object(R["a"])(P["a"]).map(((e,t)=>Object.create({label:e,value:t})))}getDescription(e){return this.$container.resolve(D["a"]).getCounterTypeDescription(e)}additionalPropertiesChanged(e){return this.isLimitedCounter(this.counter)&&(this.counter.scores.limit=e.limit,this.counter.scores.current=e.current),this.isGoalCounter(this.counter)&&(this.counter.scores.start=e.current,this.counter.scores.current=e.current),this.counter}onTypeChanged(e){this.$container.resolve(D["a"]).setType(this.counter,e.value)}onThemeChanged(e){this.counter.theme=e.value}};T([Object(c["f"])({type:Object,required:!0})],$.prototype,"counter",void 0),T([Object(c["b"])("input"),Object(c["h"])("additionalProperties",{deep:!0})],$.prototype,"additionalPropertiesChanged",null),T([Object(c["h"])("type")],$.prototype,"onTypeChanged",null),T([Object(c["h"])("theme")],$.prototype,"onThemeChanged",null),$=T([Object(c["a"])({components:{CounterView:Q["a"]}})],$);var B=$,E=B,I=Object(f["a"])(E,_,k,!1,null,null,null),N=I.exports;x()(I,"components",{QCardSection:y["a"],QSelect:h["a"],QItem:g["a"],QItemSection:O["a"],QItemLabel:j["a"],QInput:b["a"]});var L=n("2ef0"),G=function(e,t,n,r){var o,c=arguments.length,s=c<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(c<3?o(s):c>3?o(t,n,s):o(t,n))||s);return c>3&&s&&Object.defineProperty(t,n,s),s};let M=class extends c["g"]{constructor(){super(...arguments),this.sliderIndex=0,this.counterPreview={},this.counterPreviewKey=0}get timeoutOptions(){const e=[];for(const t in P["c"])e.push(t);return e.map((e=>({label:e,value:e.toLowerCase()})))}onCounterChanged(e){this.counterPreview=Object(L["cloneDeep"])(e),this.counterPreviewKey++}onButtonClicked(){3===this.sliderIndex?(this.prompt=!1,this.$emit("success",this.counter),this.sliderIndex=0):this.sliderIndex++}};G([Object(c["c"])({type:String,required:!0})],M.prototype,"title",void 0),G([Object(c["f"])({type:Object,required:!0})],M.prototype,"counter",void 0),G([Object(c["d"])("show",{type:Boolean,default:!1})],M.prototype,"prompt",void 0),G([Object(c["h"])("counter",{deep:!0,immediate:!0})],M.prototype,"onCounterChanged",null),M=G([Object(c["a"])({components:{CounterView:Q["a"],Type:N,Generic:q}})],M);var z=M,H=z,F=n("24e8"),U=n("f09f"),J=n("880c"),K=n("62cd"),W=n("9f0a"),Y=n("4b7e"),V=n("9c40"),X=n("7f67"),Z=Object(f["a"])(H,r,o,!1,null,null,null);t["a"]=Z.exports;x()(Z,"components",{QDialog:F["a"],QCard:U["a"],QCarousel:J["a"],QCarouselSlide:K["a"],QCardSection:y["a"],QOptionGroup:W["a"],QCardActions:Y["a"],QBtn:V["a"]}),x()(Z,"directives",{ClosePopup:X["a"]})},ee3c:function(e,t,n){"use strict";n.d(t,"g",(function(){return p})),n.d(t,"h",(function(){return d})),n.d(t,"e",(function(){return v})),n.d(t,"f",(function(){return m})),n.d(t,"c",(function(){return C})),n.d(t,"d",(function(){return x})),n.d(t,"a",(function(){return k})),n.d(t,"b",(function(){return P}));var r=n("17e2"),o=n("1a49"),c=n("4bc7"),s=n("6cd4"),a=n("8f67"),i=function(e,t,n,r){var o,c=arguments.length,s=c<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(c<3?o(s):c>3?o(t,n,s):o(t,n))||s);return c>3&&s&&Object.defineProperty(t,n,s),s},l=function(e,t){return function(n,r){t(n,r,e)}},u=function(e,t,n,r){function o(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,c){function s(e){try{i(r.next(e))}catch(t){c(t)}}function a(e){try{i(r["throw"](e))}catch(t){c(t)}}function i(e){e.done?n(e.value):o(e.value).then(s,a)}i((r=r.apply(e,t||[])).next())}))};class p{constructor(e,t){this.counter=e,this.date=t}}let d=class{constructor(e,t){this.historyService=e,this.historyRepository=t}handle(e){return u(this,void 0,void 0,(function*(){const t=yield this.historyRepository.findByDateAndCounter(e.date,e.counter),n=yield this.historyService.save(e.counter,e.date);JSON.stringify(null===t||void 0===t?void 0:t.scores)!==JSON.stringify(null===n||void 0===n?void 0:n.scores)&&(this.historyRepository.setProxy(new s["a"](Object(a["a"])(e.date))).clear().findByMonth(e.date),this.historyRepository.setProxy(new s["a"]).clear().findAll(),yield this.historyRepository.setProxy(new s["a"](e.counter.id+e.date.toISOString())).clear().findByDateAndCounter(e.date,e.counter))}))}supports(e){return e instanceof p}};d=i([Object(c["d"])(),l(0,Object(c["b"])(r["a"])),l(1,Object(c["b"])(o["b"]))],d);var f=n("2a19"),y=function(e,t,n,r){var o,c=arguments.length,s=c<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(c<3?o(s):c>3?o(t,n,s):o(t,n))||s);return c>3&&s&&Object.defineProperty(t,n,s),s},b=function(e,t){return function(n,r){t(n,r,e)}},h=function(e,t,n,r){function o(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,c){function s(e){try{i(r.next(e))}catch(t){c(t)}}function a(e){try{i(r["throw"](e))}catch(t){c(t)}}function i(e){e.done?n(e.value):o(e.value).then(s,a)}i((r=r.apply(e,t||[])).next())}))};class v{constructor(e){this.counter=e}}let m=class{constructor(e,t){this.historyService=e,this.counterRepository=t}handle(e){return h(this,void 0,void 0,(function*(){yield this.counterRepository.save(e.counter),this.counterRepository.setProxy(new s["a"]).clear().findAll(),this.counterRepository.setProxy(new s["a"](e.counter.id)).clear().find(e.counter.id),f["a"].create({type:"positive",message:"Counter successfully updated"})}))}supports(e){return e instanceof v}};m=y([Object(c["d"])(),b(0,Object(c["b"])(r["a"])),b(1,Object(c["b"])(o["a"]))],m);var g=function(e,t,n,r){var o,c=arguments.length,s=c<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(c<3?o(s):c>3?o(t,n,s):o(t,n))||s);return c>3&&s&&Object.defineProperty(t,n,s),s},O=function(e,t){return function(n,r){t(n,r,e)}},j=function(e,t,n,r){function o(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,c){function s(e){try{i(r.next(e))}catch(t){c(t)}}function a(e){try{i(r["throw"](e))}catch(t){c(t)}}function i(e){e.done?n(e.value):o(e.value).then(s,a)}i((r=r.apply(e,t||[])).next())}))};class C{constructor(e){this.counter=e}}let x=class{constructor(e){this.counterRepository=e}handle(e){return j(this,void 0,void 0,(function*(){e.counter.enabled=!1,yield this.counterRepository.update(e.counter),this.counterRepository.setProxy(new s["a"]).clear().findAll(),this.counterRepository.setProxy(new s["a"](e.counter.id)).clear(),f["a"].create({type:"positive",message:"Counter successfully deleted"})}))}supports(e){return e instanceof C}};x=g([Object(c["d"])(),O(0,Object(c["b"])(o["a"]))],x);var w=function(e,t,n,r){var o,c=arguments.length,s=c<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(c<3?o(s):c>3?o(t,n,s):o(t,n))||s);return c>3&&s&&Object.defineProperty(t,n,s),s},q=function(e,t){return function(n,r){t(n,r,e)}},_=function(e,t,n,r){function o(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,c){function s(e){try{i(r.next(e))}catch(t){c(t)}}function a(e){try{i(r["throw"](e))}catch(t){c(t)}}function i(e){e.done?n(e.value):o(e.value).then(s,a)}i((r=r.apply(e,t||[])).next())}))};class k{constructor(e){this.counter=e}}let P=class{constructor(e){this.counterRepository=e}handle(e){return _(this,void 0,void 0,(function*(){yield this.counterRepository.save(e.counter),this.counterRepository.setProxy(new s["a"]).clear().findAll(),f["a"].create({type:"positive",message:"Counter successfully created"})}))}supports(e){return e instanceof k}};P=w([Object(c["d"])(),q(0,Object(c["b"])(o["a"]))],P)}}]);